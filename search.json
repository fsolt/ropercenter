[{"path":"http://fsolt.org/ropercenter/articles/ropercenter-vignette.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"ropercenter: Reproducible Retrieval of Roper Center Datasets","text":"ropercenter package interacts Roper Center website using Firefox browser. Get Firefox . used interactively, roper_download function ask login information required Roper Center: registered user’s affiliation, email, password. information input , entered automatically download requests made session. change contact information within session, one may set argument reset TRUE running roper_download , function request required information. optional, highly recommended, setup step add information Roper Center requires .Rprofile following example: roper_download function access information needs pass Roper Center default. means researchers expose info R scripts others reproducing results later—given registered users Roper Center—able execute R scripts without modification. (, however, need enter information either interactively .Rprofiles, detail noted reproducibility materials avoid confusion.)","code":"options(\"roper_email\" = \"juanita-herrera@uppermidwest.edu\",         \"roper_password\" = \"password123!\")"},{"path":"http://fsolt.org/ropercenter/articles/ropercenter-vignette.html","id":"use","dir":"Articles","previous_headings":"","what":"Use","title":"ropercenter: Reproducible Retrieval of Roper Center Datasets","text":"roper_download function (1) simulates visit Roper Center’s sign-page, (2) enters required information sign , (3) navigates specified dataset downloads dataset’s files, , optionally default, (4) converts dataset’s Stata- SPSS-formated files .Rdata format. Datasets specified using file_id argument. Roper Center uses unique ‘archive number’ identify datasets; number consistently listed alongside dataset’s name Study Info tab. Fox News poll 2020 U.S. presidential election, example, file id 31117412:  reproducibly download dataset: older surveys also Roper ‘historical archive number’ may also used file id. CNN/ORC poll 2016 U.S. presidential election can downloaded using either archive number, 31095595, historical archive number, USORCCNN2015-010, file id:  Downloading historical archive number file id: Multiple datasets may downloaded research area single command passing vector ids file_id. following download -described polls: needed datasets downloaded, Stata SPSS format, default converted .RData format (via haven::read_dta possible, haven::read_por foreign::read.spss otherwise) ready loaded R using load() rio::import(). many older surveys, however, Stata- SPSS-formatted datasets available, .dat ASCII files. next section describes use ropercenter’s read_ascii function make data usable.","code":"roper_download(file_id = \"31117412\",                download_dir = tempdir()) # remember to specify a directory for your download roper_download(file_id = \"USORCCNN2015-010\",                download_dir = tempdir()) # remember to specify a directory for your download roper_download(file_id = c(\"31117412\", \"USORCCNN2015-010\"),                download_dir = tempdir()) # remember to specify a directory for your download orccnn2015_010 <- rio::import(file.path(tempdir(), \"USORCCNN2015-010\",\"USORCCNN2015-010.RData\"))"},{"path":"http://fsolt.org/ropercenter/articles/ropercenter-vignette.html","id":"advanced-use-ascii-datasets","dir":"Articles","previous_headings":"","what":"Advanced Use: ASCII Datasets","title":"ropercenter: Reproducible Retrieval of Roper Center Datasets","text":"Many older Roper Center datasets available ASCII format, notoriously difficult work . read_ascii function facilitates process extracting selected variables ASCII datasets. single-card files, Gallup Poll June 1982, one can simply identify names, positions, widths needed variables codebook pass read_ascii’s var_names, var_positions, var_widths arguments. resulting data frame include variables plus variable respondent id number one encodes raw data single string. Multicard datasets complicated. best case, file contains one line per card per respondent; , user can extract needed variables adding var_cards total_cards arguments. condition violated—line every card every respondent, extra lines—read_ascii function throw error request additional arguments card_pattern respondent_pattern. take regular expressions match card respondent identifiers line original file (note look-behind assertions often particularly handy constructing regexs). Either way, resulting data frame include variables specified var_ arguments, variable respondent id number, many additional variables cards file, encodes raw data card single string.","code":"roper_download(\"USAIPO1982-1197G\", # Gallup Poll for June 25-28, 1982 (ASCII only)                download_dir = tempdir())  # remember to specify a directory for your download  gallup1982 <- read_ascii(file = file.path(tempdir(), \"USAIPO1982-1197G\",                                           \"1197.dat\"),                          var_names = c(\"q09j\", \"weight\"),                          var_positions = c(38, 1),                          var_widths = c(1, 1)) roper_download(\"USAIPOCNUS1996-9603008\", # Gallup/CNN/USA Today Poll: Politics/1996 Election (ASCII only)                download_dir = tempdir())  # remember to specify a directory for your download  gallup1996 <- read_ascii(file = file.path(tempdir(), \"USAIPOCNUS1996-9603008\",                                           \"a9603008.dat\"),                          var_names = c(\"q43a\", \"q44\", \"weight\"),                          var_cards = c(6, 6, 1),                          var_positions = c(62, 64, 13),                          var_widths = c(1, 1, 3),                          total_cards = 7,                          card_pattern = \"(?<=^.{10})\\\\d\", # a digit, preceded by the start of the line and ten other characters                          respondent_pattern = \"(?<=^\\\\s{2})\\\\d{4}\") # four digits, preceded by the start of the line and two whitespace characters"},{"path":"http://fsolt.org/ropercenter/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Frederick Solt. Author, maintainer, copyright holder. Jennifer Lin. Contributor. Paul Gronke. Contributor. Dave Peterson. Contributor.","code":""},{"path":"http://fsolt.org/ropercenter/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Solt F (2023). ropercenter: Reproducible Data Retrieval Roper Center Data Archive. R package version 0.3.2, https://github.com/fsolt/ropercenter.","code":"@Manual{,   title = {ropercenter: Reproducible Data Retrieval from the Roper Center Data Archive},   author = {Frederick Solt},   year = {2023},   note = {R package version 0.3.2},   url = {https://github.com/fsolt/ropercenter}, }"},{"path":"http://fsolt.org/ropercenter/index.html","id":"ropercenter","dir":"","previous_headings":"","what":"Reproducible Data Retrieval from the Roper Center Data Archive","title":"Reproducible Data Retrieval from the Roper Center Data Archive","text":"Roper Center Public Opinion Research, words, works “collect, preserve, disseminate public opinion data; serve resource help improve practice survey research; broaden understanding public opinion use survey data United States around world.” maintains largest archive public opinion data existence, holding data dating back 1930s 100 countries. Researchers taking advantage datasets, however, caught bind. terms conditions downloading Roper Center dataset state datasets “may resold re-disseminated.” ensure one’s work can reproduced, assessed, built upon others, one must provide access raw data one employed. ropercenter package cuts knot providing programmatic, reproducible access specified Roper Center datasets within R registered users Roper Center’s member institutions. ropercenter requires installation beta version Chrome run; get Chrome beta . installed Chrome beta, install ropercenter: latest released version: install.packages(\"ropercenter\") latest development version: details, check vignette. Please recall using Roper Center services, accept Center’s Terms Conditions.","code":"if (!require(remotes)) install.packages(\"remotes\") remotes::install_github(\"fsolt/ropercenter\")"},{"path":"http://fsolt.org/ropercenter/reference/read_ascii.html","id":null,"dir":"Reference","previous_headings":"","what":"Read ASCII datasets downloaded from the Roper Center — read_ascii","title":"Read ASCII datasets downloaded from the Roper Center — read_ascii","text":"read_ascii helps format ASCII data files downloaded Roper Center.","code":""},{"path":"http://fsolt.org/ropercenter/reference/read_ascii.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read ASCII datasets downloaded from the Roper Center — read_ascii","text":"","code":"read_ascii(   file,   total_cards = 1,   var_names,   var_cards = 1,   var_positions,   var_widths,   card_pattern,   respondent_pattern )"},{"path":"http://fsolt.org/ropercenter/reference/read_ascii.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read ASCII datasets downloaded from the Roper Center — read_ascii","text":"file path ASCII data file. total_cards multicard files, number cards file. var_names string vector variable names. var_cards multicard files, numeric vector cards var_names recorded. var_positions numeric vector column positions var_names recorded. var_widths numeric vector widths used record var_names. card_pattern use file contain line every card every respondent (contains extra lines correspond respondent), regular expression matches file's card identifier; e.g., card number stored last digit line, \"\\d$\". respondent_pattern use file contain line every card every respondent (contains extra lines correspond respondent), regular expression matches file's respondent identifier; e.g., respondent number stored first four digits line, preceded space, \"(?<=^\\s)\\d4\".","code":""},{"path":"http://fsolt.org/ropercenter/reference/read_ascii.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read ASCII datasets downloaded from the Roper Center — read_ascii","text":"data frame containing variables specified var_names argument, plus numeric respondent identifier many string card variables (card1, card2, ...) specified total_cards argument.","code":""},{"path":"http://fsolt.org/ropercenter/reference/read_ascii.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read ASCII datasets downloaded from the Roper Center — read_ascii","text":"Many older Roper Center datasets available ASCII format, notoriously difficult work .  `read_ascii` function facilitates process extracting selected variables ASCII datasets. single-card files, one can simply identify names, positions, widths needed variables codebook pass read_ascii's var_names, var_positions, var_widths arguments.  Multicard datasets complicated. best case, file contains one line per card per respondent; , user can extract needed variables adding var_cards total_cards arguments. condition violated---line every card every respondent, extra lines---function throw error request user specify additional arguments card_pattern respondent_pattern. See read_rpr alternate implementation.","code":""},{"path":[]},{"path":"http://fsolt.org/ropercenter/reference/roper_download.html","id":null,"dir":"Reference","previous_headings":"","what":"Download datasets from the Roper Center — roper_download","title":"Download datasets from the Roper Center — roper_download","text":"roper_download provides programmatic reproducible means download     datasets Roper Center's data archive","code":""},{"path":"http://fsolt.org/ropercenter/reference/roper_download.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download datasets from the Roper Center — roper_download","text":"","code":"roper_download(   file_id,   affiliation = getOption(\"roper_affiliation\"),   email = getOption(\"roper_email\"),   password = getOption(\"roper_password\"),   reset = FALSE,   download_dir = \"roper_data\",   msg = TRUE,   convert = TRUE,   delay = 2 )"},{"path":"http://fsolt.org/ropercenter/reference/roper_download.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download datasets from the Roper Center — roper_download","text":"file_id unique identifier (optionally vector identifiers) dataset(s) downloaded (see details).  new Archive Numbers old Historical Archive Numbers, latter available, may used. affiliation, email, password Roper Center affiliation, email, password  (see details) reset TRUE, asked re-enter Roper Center affiliation,  email, password. download_dir directory (relative working directory) files Roper Center downloaded. msg TRUE, outputs message showing data set downloaded. convert TRUE, converts downloaded file(s) .RData format. delay speed connection Roper Center data archive particularly slow,  roper_download may encounter problems.  Increasing delay parameter may help.","code":""},{"path":"http://fsolt.org/ropercenter/reference/roper_download.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download datasets from the Roper Center — roper_download","text":"function returns nothing, side effect downloading files datasets identified file_id argument.","code":""},{"path":"http://fsolt.org/ropercenter/reference/roper_download.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download datasets from the Roper Center — roper_download","text":"avoid requiring others edit scripts insert affiliation,   email, password force interactively, default set   fetch information user's .Rprofile.  running   roper_download, , sure add options   .Rprofile (usethis::edit_r_profile() one particularly easy way),  substituting info example : options(\"roper_affiliation\" = \"Upper Midwest University\",           \"roper_email\" = \"juanita-herrara@uppermidwest.edu\",           \"roper_password\" = \"password123!\")","code":""},{"path":"http://fsolt.org/ropercenter/reference/roper_download.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download datasets from the Roper Center — roper_download","text":"","code":"if (FALSE) {  roper_download(file_id = c(\"31117412\", \"USPEW2015-GOVERNANCE\"),                 download_dir = tempdir()) # remember to specify a directory for your download }"},{"path":"http://fsolt.org/ropercenter/news/index.html","id":"version-031","dir":"Changelog","previous_headings":"","what":"Version 0.3.1","title":"Version 0.3.1","text":"CRAN release: 2020-07-26 Update documentation note dependency Chrome beta (rather Chrome) due recent change Selenium dependencies (via RSelenium)","code":""},{"path":"http://fsolt.org/ropercenter/news/index.html","id":"version-030","dir":"Changelog","previous_headings":"","what":"Version 0.3.0","title":"Version 0.3.0","text":"CRAN release: 2020-07-21 Switch RSelenium Roper Center’s new website.","code":""},{"path":"http://fsolt.org/ropercenter/news/index.html","id":"version-020","dir":"Changelog","previous_headings":"","what":"Version 0.2.0","title":"Version 0.2.0","text":"CRAN release: 2018-06-28","code":""},{"path":"http://fsolt.org/ropercenter/news/index.html","id":"new-features-0-2-0","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.2.0","text":"release includes new read_ascii() function extracting data Roper Center ASCII files.","code":""},{"path":"http://fsolt.org/ropercenter/news/index.html","id":"bug-fixes-0-2-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"Version 0.2.0","text":"download_roper() now correctly downloads ASCII-formatted file SPSS-formatted file available.","code":""},{"path":"http://fsolt.org/ropercenter/news/index.html","id":"version-010","dir":"Changelog","previous_headings":"","what":"Version 0.1.0","title":"Version 0.1.0","text":"CRAN release: 2017-03-17 First release.","code":""}]
